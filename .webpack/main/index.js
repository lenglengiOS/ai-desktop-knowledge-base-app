(()=>{var e={597:(e,r,t)=>{"use strict";const n=t(157);if("string"==typeof n)throw new TypeError("Not running in an Electron environment!");const s="ELECTRON_IS_DEV"in process.env,o=1===Number.parseInt(process.env.ELECTRON_IS_DEV,10);e.exports=s?o:!n.app.isPackaged},760:(e,r,t)=>{var n=t(928),s=t(317).spawn,o=t(590)("electron-squirrel-startup"),i=t(157).app,a=function(e,r){var t=n.resolve(n.dirname(process.execPath),"..","Update.exe");o("Spawning `%s` with args `%s`",t,e),s(t,e,{detached:!0}).on("close",r)};e.exports=function(){if("win32"===process.platform){var e=process.argv[1];o("processing squirrel command `%s`",e);var r=n.basename(process.execPath);if("--squirrel-install"===e||"--squirrel-updated"===e)return a(["--createShortcut="+r],i.quit),!0;if("--squirrel-uninstall"===e)return a(["--removeShortcut="+r],i.quit),!0;if("--squirrel-obsolete"===e)return i.quit(),!0}return!1}()},918:(e,r,t)=>{function n(){var e;try{e=r.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(r=e.exports=t(441)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),t){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var s=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(s++,"%c"===e&&(o=s))})),e.splice(o,0,n)}},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}},r.load=n,r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},r.enable(n())},441:(e,r,t)=>{var n;function s(e){function t(){if(t.enabled){var e=t,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=r.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;c++;var s=r.formatters[n];if("function"==typeof s){var o=i[c];t=s.call(e,o),i.splice(c,1),c--}return t})),r.formatArgs.call(e,i),(t.log||r.log||console.log.bind(console)).apply(e,i)}}return t.namespace=e,t.enabled=r.enabled(e),t.useColors=r.useColors(),t.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}(e),"function"==typeof r.init&&r.init(t),t}(r=e.exports=s.debug=s.default=s).coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){r.save(e),r.names=[],r.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),n=t.length,s=0;s<n;s++)t[s]&&("-"===(e=t[s].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=t(464),r.names=[],r.skips=[],r.formatters={}},590:(e,r,t)=>{"undefined"!=typeof process&&"renderer"===process.type?e.exports=t(918):e.exports=t(676)},676:(e,r,t)=>{var n=t(18),s=t(23);(r=e.exports=t(441)).init=function(e){e.inspectOpts={};for(var t=Object.keys(r.inspectOpts),n=0;n<t.length;n++)e.inspectOpts[t[n]]=r.inspectOpts[t[n]]},r.log=function(){return i.write(s.format.apply(s,arguments)+"\n")},r.formatArgs=function(e){var t=this.namespace;if(this.useColors){var n=this.color,s="  [3"+n+";1m"+t+" [0m";e[0]=s+e[0].split("\n").join("\n"+s),e.push("[3"+n+"m+"+r.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+t+" "+e[0]},r.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},r.load=a,r.useColors=function(){return"colors"in r.inspectOpts?Boolean(r.inspectOpts.colors):n.isatty(o)},r.colors=[6,2,3,4,5,1],r.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,r){var t=r.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,r){return r.toUpperCase()})),n=process.env[r];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[t]=n,e}),{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&s.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var i=1===o?process.stdout:2===o?process.stderr:function(e){var r;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(r=new n.WriteStream(e))._type="tty",r._handle&&r._handle.unref&&r._handle.unref();break;case"FILE":(r=new(t(896).SyncWriteStream)(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(r=new(t(278).Socket)({fd:e,readable:!1,writable:!0})).readable=!1,r.read=null,r._type="pipe",r._handle&&r._handle.unref&&r._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return r.fd=e,r._isStdio=!0,r}(o);function a(){return process.env.DEBUG}r.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},r.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)},r.enable(a())},464:e=>{var r=1e3,t=60*r,n=60*t,s=24*n;function o(e,r,t){if(!(e<r))return e<1.5*r?Math.floor(e/r)+" "+t:Math.ceil(e/r)+" "+t+"s"}e.exports=function(e,i){i=i||{};var a,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(o){var i=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return i*s;case"hours":case"hour":case"hrs":case"hr":case"h":return i*n;case"minutes":case"minute":case"mins":case"min":case"m":return i*t;case"seconds":case"second":case"secs":case"sec":case"s":return i*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return i.long?o(a=e,s,"day")||o(a,n,"hour")||o(a,t,"minute")||o(a,r,"second")||a+" ms":function(e){return e>=s?Math.round(e/s)+"d":e>=n?Math.round(e/n)+"h":e>=t?Math.round(e/t)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},391:function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var r;e.done?s(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(i,a)}c((n=n.apply(e,r||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const o=t(157),i=s(t(597));let a;t(760)&&o.app.quit();const c=()=>{a=new o.BrowserWindow({width:1600,height:900,minWidth:1600,minHeight:900,webPreferences:{preload:require("path").resolve(__dirname,"../renderer","main_window","preload.js"),webSecurity:!1}}),a.loadURL(`file://${require("path").resolve(__dirname,"..","renderer","main_window","index.html")}`),i.default&&a.webContents.openDevTools(),a.webContents.session.webRequest.onHeadersReceived(((e,r)=>{r({responseHeaders:Object.assign(Object.assign({},e.responseHeaders),{"Content-Security-Policy":["connect-src 'self' https://api.moonshot.cn/v1/chat/completions"]})})}))};o.app.on("ready",c),o.app.on("window-all-closed",(()=>{"darwin"!==process.platform&&o.app.quit()})),o.app.on("activate",(()=>{0===o.BrowserWindow.getAllWindows().length&&c()})),o.ipcMain.on("minimize",(e=>{a.minimize()})),o.ipcMain.on("maximize",(e=>{a.maximize()})),o.ipcMain.handle("choose-file",((e,r)=>n(void 0,void 0,void 0,(function*(){return yield o.dialog.showOpenDialog(o.BrowserWindow.getFocusedWindow(),{properties:["openFile"]})}))))},317:e=>{"use strict";e.exports=require("child_process")},157:e=>{"use strict";e.exports=require("electron")},896:e=>{"use strict";e.exports=require("fs")},278:e=>{"use strict";e.exports=require("net")},928:e=>{"use strict";e.exports=require("path")},18:e=>{"use strict";e.exports=require("tty")},23:e=>{"use strict";e.exports=require("util")}},r={};function t(n){var s=r[n];if(void 0!==s)return s.exports;var o=r[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}void 0!==t&&(t.ab=__dirname+"/native_modules/");var n=t(391);module.exports=n})();
//# sourceMappingURL=index.js.map